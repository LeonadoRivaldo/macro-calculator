function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zrcO:function(t,n,e){"use strict";e.r(n);var r,c=e("ofXK"),i=e("PCNd"),o=e("tyNb"),a=e("fXoL"),s=e("mrSG"),u=e("3Pt+"),l=e("AytR"),f=e("tk/3"),b=((r=function(){function t(n){_classCallCheck(this,t),this.http=n;var e=l.a.jsonFolder;this.jsonFolder=e,this.origin=window.location.origin}return _createClass(t,[{key:"getJSON",value:function(t){return this.http.get("".concat(this.origin,"/").concat(this.jsonFolder,"/").concat(t)).toPromise()}}]),t}()).\u0275fac=function(t){return new(t||r)(a.Zb(f.a))},r.\u0275prov=a.Ib({token:r,factory:r.\u0275fac,providedIn:"root"}),r),m=e("kmKP");function g(t,n){1&t&&(a.Rb(0,"span"),a.Bc(1,"*"),a.Qb())}function d(t,n){if(1&t&&(a.Rb(0,"label",8),a.Bc(1),a.zc(2,g,2,0,"span",9),a.Qb()),2&t){var e=a.fc();a.Eb("sr-only",e.srOnly)("title",e.title),a.ic("for",e.name),a.zb(1),a.Dc("",e.label||e.title," "),a.zb(1),a.ic("ngIf",e.getInputError("required"))}}function p(t,n){if(1&t){var e=a.Sb();a.Rb(0,"div",10),a.dc("click",(function(t){return a.rc(e),a.fc().emitEvent(t,"input:prepend:click")})),a.Nb(1,"span",11),a.Qb()}if(2&t){var r=a.fc();a.zb(1),a.ic("innerHtml",r.inputGroupPrependContent,a.sc)}}function h(t,n){if(1&t){var e=a.Sb();a.Rb(0,"div",12),a.dc("click",(function(t){return a.rc(e),a.fc().emitEvent(t,"input:append:click")})),a.Nb(1,"span",11),a.Qb()}if(2&t){var r=a.fc();a.zb(1),a.ic("innerHtml",r.inputGroupAppendContent,a.sc)}}function v(t,n){if(1&t){var e=a.Sb();a.Rb(0,"i",13),a.dc("click",(function(){return a.rc(e),a.fc().clearField()})),a.Qb()}if(2&t){var r=a.fc();a.Eb("is-input-group",r.inputGroup)}}function C(t,n){1&t&&(a.Rb(0,"span"),a.Bc(1,"Required field."),a.Qb())}function M(t,n){1&t&&(a.Rb(0,"span"),a.Bc(1,"invalid e-mail."),a.Qb())}function y(t,n){1&t&&(a.Rb(0,"span"),a.Bc(1,"invalid postal code."),a.Qb())}function O(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.errorMessage)}}function _(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.validationErrorMsg)}}function k(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.senhaErrorMsg)}}function P(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.patternError)}}function z(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.maxLengthError)}}function w(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.minLengthError)}}function R(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.uniqueError)}}function E(t,n){if(1&t&&(a.Rb(0,"span"),a.Bc(1),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.Cc(e.erroCustomizado)}}function Q(t,n){if(1&t&&(a.Rb(0,"p",14),a.zc(1,C,2,0,"span",9),a.zc(2,M,2,0,"span",9),a.zc(3,y,2,0,"span",9),a.zc(4,O,2,1,"span",9),a.zc(5,_,2,1,"span",9),a.zc(6,k,2,1,"span",9),a.zc(7,P,2,1,"span",9),a.zc(8,z,2,1,"span",9),a.zc(9,w,2,1,"span",9),a.zc(10,R,2,1,"span",9),a.zc(11,E,2,1,"span",9),a.Qb()),2&t){var e=a.fc();a.zb(1),a.ic("ngIf",e.required),a.zb(1),a.ic("ngIf",e.invalidEmail),a.zb(1),a.ic("ngIf",e.invalidCEP),a.zb(1),a.ic("ngIf",e.customError),a.zb(1),a.ic("ngIf",e.validationError),a.zb(1),a.ic("ngIf",e.senhaError),a.zb(1),a.ic("ngIf",e.pattern),a.zb(1),a.ic("ngIf",e.maxLength),a.zb(1),a.ic("ngIf",e.minLength),a.zb(1),a.ic("ngIf",e.isNotUnique),a.zb(1),a.ic("ngIf",e.erroCustomizado)}}var I,x=["*"],N=((I=function(){function t(){_classCallCheck(this,t),this.srOnly=!1,this.marginBottom="20px",this.inputGroup=!1,this.inputGroupPrepend=!1,this.inputGroupAppend=!1,this.clear=!1,this.inputFieldEvents=new a.n,this.clearEvent=new a.n}return _createClass(t,[{key:"getInputError",value:function(t){return this.input.errors?this.input.errors[t]:null}},{key:"clearField",value:function(){this.clearEvent.emit({name:"clear:field"})}},{key:"ngOnInit",value:function(){}},{key:"ngAfterContentInit",value:function(){if(this.input=this.control||this.model,void 0===this.input)throw new Error("Esse componente precisa de uma diretiva ngModel ou formControlName para funcionar!");this.addClearClass()}},{key:"ngOnChanges",value:function(t){t.clear&&this.addClearClass()}},{key:"addClearClass",value:function(){var t=this;setTimeout((function(){var n=document.querySelector("#".concat(t.name));t.clear&&n.classList.add("clear-btn")}),500)}},{key:"emitEvent",value:function(t,n){this.inputFieldEvents.emit({name:n,originalEvent:t})}},{key:"hasError",get:function(){return this.input.invalid&&(this.input.dirty||this.input.touched)}},{key:"customError",get:function(){return this.hasError&&!!this.errorMessage}},{key:"senhaError",get:function(){return this.hasError&&this.getInputError("senhaError")}},{key:"senhaErrorMsg",get:function(){return this.getInputError("senhaError")}},{key:"validationError",get:function(){return this.hasError&&this.getInputError("validationError")}},{key:"validationErrorMsg",get:function(){return this.getInputError("validationError")}},{key:"invalidEmail",get:function(){return this.hasError&&this.getInputError("email")}},{key:"invalidCEP",get:function(){return this.hasError&&this.getInputError("invalidCEP")}},{key:"maxLength",get:function(){return this.hasError&&void 0!==this.getInputError("maxlength")}},{key:"maxLengthError",get:function(){var t=this.getInputError("maxlength");return this.maxLength?"N\xfamero de caracteres ultrapassado. Escreva at\xe9 ".concat(t.requiredLength," caracteres."):""}},{key:"minLength",get:function(){return this.hasError&&void 0!==this.getInputError("minlength")}},{key:"minLengthError",get:function(){var t=this.getInputError("minlength");return this.minLength?"Este campo deve conter no m\xednimo ".concat(t.requiredLength," caracteres."):""}},{key:"required",get:function(){return this.hasError&&this.getInputError("required")}},{key:"erroCustomizado",get:function(){return this.hasError&&this.getInputError("erroCustomizado")}},{key:"isNotUnique",get:function(){var t=this.getInputError("unique");return this.hasError&&t&&t.isNotUnique}},{key:"uniqueError",get:function(){var t=this.getInputError("unique");return t?t.errorMsg:""}},{key:"showClear",get:function(){return this.input.value&&this.clear}},{key:"pattern",get:function(){return this.hasError&&void 0!==this.getInputError("pattern")}},{key:"patternError",get:function(){return"Este deve conter ".concat(this.getInputError("pattern").requiredPattern.replace(/\//gim,"")," caracteres.")}}]),t}()).\u0275fac=function(t){return new(t||I)},I.\u0275cmp=a.Gb({type:I,selectors:[["mc-form-input"]],contentQueries:function(t,n,e){var r;1&t&&(a.Fb(e,u.t,!0),a.Fb(e,u.h,!0)),2&t&&(a.pc(r=a.ec())&&(n.model=r.first),a.pc(r=a.ec())&&(n.control=r.first))},inputs:{name:"name",label:"label",title:"title",srOnly:"srOnly",marginBottom:"marginBottom",errorMessage:"errorMessage",inputGroup:"inputGroup",inputGroupPrepend:"inputGroupPrepend",inputGroupPrependContent:"inputGroupPrependContent",inputGroupAppend:"inputGroupAppend",inputGroupAppendContent:"inputGroupAppendContent",clear:"clear"},outputs:{inputFieldEvents:"inputFieldEvents",clearEvent:"clearEvent"},features:[a.xb],ngContentSelectors:x,decls:9,vars:11,consts:[[1,"form-group"],["class","form-label",3,"for","sr-only","title",4,"ngIf"],[1,"input-holder"],["class","input-group-prepend",3,"click",4,"ngIf"],["class","input-group-append",3,"click",4,"ngIf"],["class","clear-field fas fa-times",3,"is-input-group","click",4,"ngIf"],[1,"form-text-group"],["class","form-text error",4,"ngIf"],[1,"form-label",3,"for"],[4,"ngIf"],[1,"input-group-prepend",3,"click"],[1,"input-group-text",3,"innerHtml"],[1,"input-group-append",3,"click"],[1,"clear-field","fas","fa-times",3,"click"],[1,"form-text","error"]],template:function(t,n){1&t&&(a.hc(),a.Rb(0,"div",0),a.zc(1,d,3,7,"label",1),a.Rb(2,"div",2),a.zc(3,p,2,1,"div",3),a.gc(4),a.zc(5,h,2,1,"div",4),a.zc(6,v,1,2,"i",5),a.Qb(),a.Rb(7,"div",6),a.zc(8,Q,12,11,"p",7),a.Qb(),a.Qb()),2&t&&(a.yc("margin-bottom",n.marginBottom),a.Eb("has-error",n.hasError),a.zb(1),a.ic("ngIf",n.label||n.title),a.zb(1),a.Eb("input-group",n.inputGroup),a.zb(1),a.ic("ngIf",n.inputGroupPrepend),a.zb(2),a.ic("ngIf",n.inputGroupAppend),a.zb(1),a.ic("ngIf",n.showClear),a.zb(2),a.ic("ngIf",n.hasError))},directives:[c.u],styles:["label.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:inherit;color:inherit}.input-holder[_ngcontent-%COMP%]{position:relative}.clear-field[_ngcontent-%COMP%]{top:50%;cursor:pointer;transform:translateY(-50%);right:15px;height:14px;font-size:14px;color:#b8b8b8;position:absolute}.clear-field.is-input-group[_ngcontent-%COMP%]{right:50px}"]}),I);function F(t,n){if(1&t&&a.Nb(0,"option",31),2&t){var e=n.$implicit;a.ic("value",e.value)("innerHTML",e.label,a.sc)}}function B(t,n){if(1&t&&(a.Pb(0),a.zc(1,F,1,2,"option",30),a.Ob()),2&t){var e=a.fc();a.zb(1),a.ic("ngForOf",e.activityList)}}var S,G,q,L=((S=function(){function t(n,e){_classCallCheck(this,t),this.activityListService=n,this.userService=e,this.activityList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.userForm=new u.i({name:new u.f(null,[u.E.required,u.E.min(3)]),age:new u.f(null,[u.E.required,u.E.pattern(/[0-9]/)]),gender:new u.f(null,[u.E.required]),weight:new u.f(null,[u.E.required,u.E.pattern(/[0-9]/)]),height:new u.f(null,[u.E.required,u.E.pattern(/[0-9]/)]),activity:new u.f("",[u.E.required]),exObese:new u.f(!1)}),this.formKeys=Object.keys(this.form),t.next=4,this.activityListService.getJSON("activity_level_list.json");case 4:this.activityList=t.sent;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnDestroy",value:function(){this.userForm.reset({})}},{key:"save",value:function(){this.userService.create(this.userForm.value)}},{key:"cancel",value:function(){this.userService.showUserForm(!1)}},{key:"form",get:function(){return this.userForm.controls}}]),t}()).\u0275fac=function(t){return new(t||S)(a.Mb(b),a.Mb(m.a))},S.\u0275cmp=a.Gb({type:S,selectors:[["mc-user-form"]],decls:37,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],["name","user-form",1,"app-form",3,"formGroup"],["name","user-name","label","Name"],["type","text","id","user-name","formControlName","name","placeholder","Type user name",1,"form-control"],["userName",""],["name","user-age","label","Age"],["type","text","id","user-age","formControlName","age","placeholder","Type user age",1,"form-control"],["userAge",""],["name","user-gender","label","Gender"],[1,"radio-group"],[1,"form-check","form-check-inline"],["type","radio","name","gender","id","male","value","male","formControlName","gender",1,"form-check-input"],["for","male",1,"form-check-label"],["type","radio","name","gender","id","female","value","female","formControlName","gender",1,"form-check-input"],["for","female",1,"form-check-label"],["name","user-weight","label","Weight"],["type","text","id","user-weight","formControlName","weight","placeholder","Type user weight in kilograms",1,"form-control"],["userWeight",""],["name","user-weight","label","height"],["type","text","id","user-height","formControlName","height","placeholder","Type user height in centimeters",1,"form-control"],["userHeight",""],["name","user-activity","label","Activity Level"],["name","user-activity","id","user-activity","formControlName","activity",1,"form-control"],["value",""],[4,"ngIf"],[1,"card-footer","botao-group"],[1,"botao","btn-success",3,"disabled","click"],[1,"botao","btn-cancelar","btn-linha",3,"click"],[3,"value","innerHTML",4,"ngFor","ngForOf"],[3,"value","innerHTML"]],template:function(t,n){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Bc(2," New User "),a.Qb(),a.Rb(3,"div",2),a.Rb(4,"form",3),a.Rb(5,"mc-form-input",4),a.Nb(6,"input",5,6),a.Qb(),a.Rb(8,"mc-form-input",7),a.Nb(9,"input",8,9),a.Qb(),a.Rb(11,"mc-form-input",10),a.Rb(12,"div",11),a.Rb(13,"div",12),a.Nb(14,"input",13),a.Rb(15,"label",14),a.Bc(16,"Male"),a.Qb(),a.Qb(),a.Rb(17,"div",12),a.Nb(18,"input",15),a.Rb(19,"label",16),a.Bc(20,"Female"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(21,"mc-form-input",17),a.Nb(22,"input",18,19),a.Qb(),a.Rb(24,"mc-form-input",20),a.Nb(25,"input",21,22),a.Qb(),a.Rb(27,"mc-form-input",23),a.Rb(28,"select",24),a.Rb(29,"option",25),a.Bc(30,"Select an option..."),a.Qb(),a.zc(31,B,2,1,"ng-container",26),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(32,"div",27),a.Rb(33,"button",28),a.dc("click",(function(){return n.save()})),a.Bc(34,"Save"),a.Qb(),a.Rb(35,"button",29),a.dc("click",(function(){return n.cancel()})),a.Bc(36,"cancel"),a.Qb(),a.Qb(),a.Qb()),2&t&&(a.zb(4),a.ic("formGroup",n.userForm),a.zb(27),a.ic("ngIf",n.activityList.length>0),a.zb(2),a.ic("disabled",n.userForm.invalid))},directives:[u.G,u.r,u.j,N,u.c,u.q,u.h,u.y,u.C,u.v,u.F,c.u,c.t],styles:[""]}),S),j=e("1kSV"),A=e("wHSu"),T=function(t){return t[t.very_low=1.2]="very_low",t[t.light=1.375]="light",t[t.moderate=1.55]="moderate",t[t.active=1.725]="active",t[t.very_active=1.9]="very_active",t}({}),D=((G=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"bulk",value:function(t){var n=t.exObese?this.cutting(t):this.TMB(t);return n+.2*n}},{key:"cutting",value:function(t){var n=function(t){return t-.2*t},e=t.exObese,r=n(this.TMB(t));return e?n(r):r}},{key:"maintenance",value:function(t){return this.TMB(t)}},{key:"TMB",value:function(t){var n=t.activity,e=t.age,r=t.height,c=t.gender,i=10*t.weight+6.25*r-5*e;return i="male"===c?i+5:i-161,Math.ceil(i*T[n])}}]),t}()).\u0275fac=function(t){return new(t||G)},G.\u0275prov=a.Ib({token:G,factory:G.\u0275fac,providedIn:"root"}),G),U=function(t){return t[t.very_low=1.5]="very_low",t[t.light=1.8]="light",t[t.moderate=2]="moderate",t[t.active=2.5]="active",t[t.very_active=3]="very_active",t}({}),$=function(t){return t[t.very_low=.4]="very_low",t[t.light=.5]="light",t[t.moderate=.6]="moderate",t[t.active=.8]="active",t[t.very_active=1]="very_active",t}({}),H=((q=function(){function t(n){_classCallCheck(this,t),this.calories=n}return _createClass(t,[{key:"calcMacroProt",value:function(t){return this.calcMacro(t.weight,U[t.activity])}},{key:"calcMacroFat",value:function(t){return this.calcMacro(t.weight,$[t.activity])}},{key:"calcMacro",value:function(t,n){return Math.ceil(t*n)}},{key:"calcMacroCarb",value:function(t,n){var e=this.calories[n](t),r=4*this.calcMacroProt(t),c=9*this.calcMacroFat(t);return Math.ceil((e-(c+r))/4)}}]),t}()).\u0275fac=function(t){return new(t||q)(a.Zb(D))},q.\u0275prov=a.Ib({token:q,factory:q.\u0275fac,providedIn:"root"}),q);function V(t,n){if(1&t&&(a.Rb(0,"div",15),a.Rb(1,"div"),a.Rb(2,"div",16),a.Rb(3,"h5",17),a.Nb(4,"fa-icon",7),a.Bc(5),a.Qb(),a.Rb(6,"p",18),a.Bc(7),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t){var e=n.$implicit,r=a.fc(3);a.zb(1),a.Cb("card ",e.calc,""),a.zb(3),a.ic("icon",e.icon||r.icons[e.calc]),a.zb(1),a.Dc(" ",e.title," "),a.zb(2),a.Dc(" ",r.getCalories(e.calc)," Kcal ")}}function J(t,n){if(1&t&&(a.Rb(0,"div",13),a.zc(1,V,8,6,"div",14),a.Qb()),2&t){var e=a.fc(2);a.zb(1),a.ic("ngForOf",e.Macros.calories)}}function K(t,n){if(1&t&&(a.Rb(0,"th",22),a.Nb(1,"fa-icon",25),a.Bc(2),a.Qb()),2&t){var e=n.$implicit,r=a.fc(3);a.Cb("calories-item ",e.calc,""),a.zb(1),a.ic("icon",r.icons[e.calc]),a.zb(1),a.Dc(" ",e.title," ")}}function W(t,n){if(1&t&&(a.Rb(0,"td"),a.Bc(1),a.Qb()),2&t){var e=n.$implicit,r=a.fc().$implicit,c=a.fc(3);a.Cb("macro-item ",r.calc,""),a.zb(1),a.Dc("",c.calcMacros(r.calc,e.calc),"g")}}function X(t,n){if(1&t&&(a.Rb(0,"tr"),a.Rb(1,"th",22),a.Nb(2,"fa-icon",25),a.Bc(3),a.Qb(),a.zc(4,W,2,4,"td",26),a.Qb()),2&t){var e=n.$implicit,r=a.fc(3);a.zb(1),a.Cb("macro-item title ",e.calc,""),a.zb(1),a.ic("icon",r.icons[e.calc]),a.zb(1),a.Dc(" ",e.title," "),a.zb(1),a.ic("ngForOf",r.Macros.calories)}}function Z(t,n){if(1&t&&(a.Rb(0,"div",19),a.Rb(1,"div",20),a.Rb(2,"p"),a.Bc(3,"Macro nutrients, Proteins, Carbohydrate and Fats"),a.Qb(),a.Rb(4,"p"),a.Rb(5,"small"),a.Bc(6,"Carbohydrates are calculated based on the remaining calories divide by 4"),a.Qb(),a.Qb(),a.Rb(7,"table",21),a.Rb(8,"thead"),a.Rb(9,"tr"),a.Nb(10,"th",22),a.zc(11,K,3,5,"th",23),a.Qb(),a.Qb(),a.Rb(12,"tbody"),a.zc(13,X,5,6,"tr",24),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t){var e=a.fc(2);a.zb(11),a.ic("ngForOf",e.Macros.calories),a.zb(2),a.ic("ngForOf",e.Macros.macros)}}function Y(t,n){if(1&t&&a.Nb(0,"mc-user-card",27),2&t){var e=a.fc(2);a.ic("user",e.uInfo)("isView",!0)}}function tt(t,n){if(1&t){var e=a.Sb();a.Rb(0,"div",1),a.Rb(1,"div",2),a.Rb(2,"ul",3,4),a.dc("activeIdChange",(function(t){return a.rc(e),a.fc().active=t})),a.Rb(4,"li",5),a.Rb(5,"a",6),a.Nb(6,"fa-icon",7),a.Bc(7," Calories "),a.Qb(),a.zc(8,J,2,1,"ng-template",8),a.Qb(),a.Rb(9,"li",9),a.Rb(10,"a",6),a.Nb(11,"fa-icon",7),a.Bc(12," Macro Nutrients "),a.Qb(),a.zc(13,Z,14,2,"ng-template",8),a.Qb(),a.Rb(14,"li",10),a.Rb(15,"a",6),a.Nb(16,"fa-icon",7),a.Bc(17," User Info "),a.Qb(),a.zc(18,Y,1,2,"ng-template",8),a.Qb(),a.Qb(),a.Nb(19,"div",11),a.Qb(),a.Nb(20,"a",12),a.Qb()}if(2&t){var r=a.qc(3),c=a.fc();a.zb(2),a.ic("activeId",c.active),a.zb(4),a.ic("icon",c.icons.calories),a.zb(5),a.ic("icon",c.icons.macros),a.zb(5),a.ic("icon",c.icons.user),a.zb(3),a.ic("ngbNavOutlet",r)}}var nt,et=((nt=function(){function t(n,e,r,c){_classCallCheck(this,t),this.userservice=n,this.modalservice=e,this.kcalService=r,this.macroservice=c,this.active="macros",this.Macros={calories:[{calc:"cutting",title:"Cutting"},{calc:"maintenance",title:"Maintenance"},{calc:"bulk",title:"Bulking"}],macros:[{calc:"carbo",title:"Carbohydrates"},{calc:"proteins",title:"Proteins"},{calc:"fats",title:"Fats"}]},this.loaded=!1,this.icons={user:A.a,calories:A.b,macros:A.j,proteins:A.e,fats:A.l,carbo:A.d,bulk:A.f,cutting:A.i,maintenance:A.k}}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchUser();case 2:this.calcCalories();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getCalories",value:function(t){return this[t]}},{key:"fetchUser",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userservice.get(this.userId);case 2:this.user=t.sent,this.loaded=!!this.user;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"calcCalories",value:function(){this.bulk=this.kcalService.bulk(this.user),this.cutting=this.kcalService.cutting(this.user),this.maintenance=this.kcalService.maintenance(this.user)}},{key:"calcMacros",value:function(t,n){switch(t){case"fats":return this.macroservice.calcMacroFat(this.user);case"proteins":return this.macroservice.calcMacroProt(this.user);case"carbo":return this.macroservice.calcMacroCarb(this.user,n)}}},{key:"uInfo",get:function(){return this.user}}]),t}()).\u0275fac=function(t){return new(t||nt)(a.Mb(m.a),a.Mb(j.q),a.Mb(D),a.Mb(H))},nt.\u0275cmp=a.Gb({type:nt,selectors:[["mc-view-macros"]],inputs:{userId:"userId"},decls:1,vars:1,consts:[["class","macro-container container-fluid",4,"ngIf"],[1,"macro-container","container-fluid"],[1,"macro-content","row"],["ngbNav","","orientation","vertical",1,"nav-pills","macro-menu","pl-3","col-12","col-lg-3",3,"activeId","activeIdChange"],["nav","ngbNav"],["ngbNavItem","calories"],["ngbNavLink","",1,"botao","btn-default","btn-linha"],[1,"remove",3,"icon"],["ngbNavContent",""],["ngbNavItem","macros"],["ngbNavItem","info"],[1,"col-12","col-lg-9",3,"ngbNavOutlet"],[1,"close"],[1,"row","macro-items","calories"],["class","col-12 calories-item",4,"ngFor","ngForOf"],[1,"col-12","calories-item"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"row","macro-items","macros"],[1,"col-12"],[1,"table","table-striped"],["scope","col"],["scope","col",3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"icon"],[3,"class",4,"ngFor","ngForOf"],[3,"user","isView"]],template:function(t,n){1&t&&a.zc(0,tt,21,5,"div",0),2&t&&a.ic("ngIf",n.loaded)},styles:[".macro-container[_ngcontent-%COMP%]{padding:15px}@media (min-width:992px){.macro-container[_ngcontent-%COMP%]{height:50vh}}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]{height:100%}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]{padding-top:15px}@media (min-width:992px){.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]{padding-top:0}}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items.calories[_ngcontent-%COMP%]   .calories-item[_ngcontent-%COMP%]{margin:5px 0}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items.calories[_ngcontent-%COMP%]   .calories-item[_ngcontent-%COMP%]:first-child{margin-top:0}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items.calories[_ngcontent-%COMP%]   .calories-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items.macros[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .macro-item.title[_ngcontent-%COMP%]{text-align:left}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.bulk[_ngcontent-%COMP%]{border-color:#633974}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.bulk[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#633974;font-weight:700}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.bulk[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:inherit}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.maintenance[_ngcontent-%COMP%]{border-color:#48c1c6}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.maintenance[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#48c1c6;font-weight:700}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.maintenance[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:inherit}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.cutting[_ngcontent-%COMP%]{border-color:#f86c6b}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.cutting[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#f86c6b;font-weight:700}.macro-container[_ngcontent-%COMP%]   .macro-content[_ngcontent-%COMP%]   .macro-items[_ngcontent-%COMP%]   .card.cutting[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:inherit}.macro-container[_ngcontent-%COMP%]   .macro-menu[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding-bottom:15px}@media (min-width:992px){.macro-container[_ngcontent-%COMP%]   .macro-menu[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-bottom:0;border-bottom:0;border-right:1px solid #ddd}}.macro-container[_ngcontent-%COMP%]   .macro-menu[_ngcontent-%COMP%]   .botao[_ngcontent-%COMP%]{justify-content:start;width:100%;margin:5px 0;transition:all .5s ease;color:#525252}.macro-container[_ngcontent-%COMP%]   .macro-menu[_ngcontent-%COMP%]   .botao[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-right:5px}.macro-container[_ngcontent-%COMP%]   .macro-menu[_ngcontent-%COMP%]   .botao.active[_ngcontent-%COMP%], .macro-container[_ngcontent-%COMP%]   .macro-menu[_ngcontent-%COMP%]   .botao[_ngcontent-%COMP%]:hover{color:#fff;border-color:#5696d0;background-color:#5696d0}"]}),nt),rt=e("6NWb");function ct(t,n){if(1&t){var e=a.Sb();a.Rb(0,"fa-icon",11),a.dc("click",(function(){return a.rc(e),a.fc(2).view()})),a.Qb()}if(2&t){var r=a.fc(2);a.ic("icon",r.icons.faEye)}}function it(t,n){if(1&t&&(a.Rb(0,"span",14),a.Rb(1,"b"),a.Bc(2),a.Qb(),a.Bc(3),a.Qb()),2&t){var e=a.fc().$implicit,r=a.fc(2);a.ic("title",r.user[e]),a.zb(2),a.Dc("",e,":"),a.zb(1),a.Dc(" ",r.user[e],"")}}function ot(t,n){if(1&t&&(a.Rb(0,"p",12),a.zc(1,it,4,3,"span",13),a.Qb()),2&t){var e=n.$implicit;a.zb(1),a.ic("ngIf","_id"!=e)}}function at(t,n){if(1&t){var e=a.Sb();a.Rb(0,"div",1,2),a.Rb(2,"div",3),a.Rb(3,"h5",4),a.Bc(4),a.Qb(),a.Rb(5,"div",5),a.zc(6,ct,1,1,"fa-icon",6),a.Rb(7,"fa-icon",7),a.dc("click",(function(){return a.rc(e),a.fc().edit()})),a.Qb(),a.Rb(8,"fa-icon",8),a.dc("click",(function(){return a.rc(e),a.fc().remove()})),a.Qb(),a.Qb(),a.Nb(9,"hr",9),a.zc(10,ot,2,1,"p",10),a.Qb(),a.Qb()}if(2&t){var r=a.fc();a.zb(3),a.ic("title",r.name),a.zb(1),a.Cc(r.name),a.zb(2),a.ic("ngIf",!r.isView),a.zb(1),a.ic("icon",r.icons.faEdit),a.zb(1),a.ic("icon",r.icons.faTrashAlt),a.zb(2),a.ic("ngForOf",r.userProps(r.user))}}var st,ut=((st=function(){function t(n,e,r){_classCallCheck(this,t),this.modalService=e,this.userService=r,this.isView=!1,this.icons={faEdit:A.g,faTrashAlt:A.n,faEye:A.h},this.userProps=Object.keys,n.keyboard=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"remove",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.delete(this.user._id);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"edit",value:function(){alert("TODO edit")}},{key:"view",value:function(){this.modal=this.modalService.open(et,{size:"xl"}),this.modal.componentInstance.userId=this.user._id}},{key:"name",get:function(){return this.user.name}}]),t}()).\u0275fac=function(t){return new(t||st)(a.Mb(j.r),a.Mb(j.q),a.Mb(m.a))},st.\u0275cmp=a.Gb({type:st,selectors:[["mc-user-card"]],inputs:{user:"user",isView:"isView"},decls:1,vars:1,consts:[["class","card card-shadow",4,"ngIf"],[1,"card","card-shadow"],["card",""],[1,"card-body","p-3"],[1,"card-title","hide-text-overflow",3,"title"],[1,"actions"],["class","view",3,"icon","click",4,"ngIf"],[1,"edit",3,"icon","click"],[1,"remove",3,"icon","click"],[1,"card-line"],["class","card-text text-left hide-text-overflow",4,"ngFor","ngForOf"],[1,"view",3,"icon","click"],[1,"card-text","text-left","hide-text-overflow"],[3,"title",4,"ngIf"],[3,"title"]],template:function(t,n){1&t&&a.zc(0,at,11,6,"div",0),2&t&&a.ic("ngIf",n.user)},directives:[c.u,rt.b,c.t],styles:[".actions[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center}.actions[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{cursor:pointer;padding:0 5px;font-size:18px;transition:all .5s ease}.actions[_ngcontent-%COMP%]   fa-icon.view[_ngcontent-%COMP%]{padding-top:3px}.actions[_ngcontent-%COMP%]   fa-icon.view[_ngcontent-%COMP%]:hover{color:#287d80}.actions[_ngcontent-%COMP%]   fa-icon.edit[_ngcontent-%COMP%]:hover{color:#5696d0}.actions[_ngcontent-%COMP%]   fa-icon.remove[_ngcontent-%COMP%]:hover{color:#ea4e3d}"]}),Object(s.b)([function(t,n,e){var r=e.value;e.value=function(){return confirm("Are you sure that?")?r.apply(this):null}}],st.prototype,"remove",null),st);function lt(t,n){if(1&t&&(a.Rb(0,"div",6),a.Nb(1,"mc-user-card",7),a.Qb()),2&t){var e=n.$implicit;a.zb(1),a.ic("user",e)}}function ft(t,n){if(1&t&&(a.Rb(0,"div",1),a.zc(1,lt,2,1,"div",5),a.Qb()),2&t){var e=a.fc();a.zb(1),a.ic("ngForOf",e.users)}}function bt(t,n){if(1&t){var e=a.Sb();a.Rb(0,"p"),a.Bc(1,"No users found "),a.Rb(2,"a",8),a.dc("click",(function(){return a.rc(e),a.fc().addUser(!0)})),a.Bc(3,"add user"),a.Qb(),a.Qb()}}var mt,gt,dt,pt,ht=((mt=function(){function t(n,e){_classCallCheck(this,t),this.userService=n,this.modalService=e,this.showForm=!1,this.users=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.userActions$.subscribe((function(n){var e=n.name,r=n.value;try{t[e](r)}catch(c){console.error(c),console.log("unknown")}})),this.getUsers()}},{key:"addUser",value:function(t){this.showForm=t||!this.showForm,this.showForm?this.modalService.open(L):this.modalService.dismissAll()}},{key:"getUsers",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getAll();case 2:this.users=t.sent;case 3:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||mt)(a.Mb(m.a),a.Mb(j.q))},mt.\u0275cmp=a.Gb({type:mt,selectors:[["mc-user-list"]],decls:5,vars:2,consts:[[1,"container-fluid","p-0"],[1,"row"],[1,"col"],["class","row",4,"ngIf"],[4,"ngIf"],["class","col col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col","col-sm-6","col-md-4","col-lg-3"],[3,"user"],["href","#",1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(a.Rb(0,"main",0),a.Rb(1,"div",1),a.Rb(2,"div",2),a.zc(3,ft,2,1,"div",3),a.zc(4,bt,4,0,"p",4),a.Qb(),a.Qb(),a.Qb()),2&t&&(a.zb(3),a.ic("ngIf",n.users.length>0),a.zb(1),a.ic("ngIf",0==n.users.length))},directives:[c.u,c.t,ut],styles:[""]}),mt),vt=[{path:"",component:(gt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),gt.\u0275fac=function(t){return new(t||gt)},gt.\u0275cmp=a.Gb({type:gt,selectors:[["mc-users"]],decls:2,vars:0,consts:[[1,"container","pt-4"]],template:function(t,n){1&t&&(a.Rb(0,"main",0),a.Nb(1,"mc-user-list"),a.Qb())},directives:[ht],styles:[""]}),gt)}],Ct=((dt=function t(){_classCallCheck(this,t)}).\u0275mod=a.Kb({type:dt}),dt.\u0275inj=a.Jb({factory:function(t){return new(t||dt)},imports:[[o.a.forChild(vt)],o.a]}),dt),Mt=e("D+D1"),yt=e("V+o+"),Ot=((pt=function t(){_classCallCheck(this,t)}).\u0275mod=a.Kb({type:pt}),pt.\u0275inj=a.Jb({factory:function(t){return new(t||pt)},imports:[[i.a,c.c]]}),pt);a.uc(et,[ut,Mt.a,N,yt.a,rt.b,rt.a,rt.c,rt.e,rt.d,rt.f,rt.g,u.G,u.v,u.F,u.c,u.w,u.z,u.a,u.C,u.D,u.y,u.q,u.r,u.B,u.n,u.m,u.x,u.b,u.d,u.t,u.u,u.s,u.g,u.j,u.h,u.k,u.e,j.a,j.G,j.J,j.H,j.I,j.K,j.b,j.c,j.e,j.O,j.N,j.d,j.Q,j.f,j.g,j.h,j.p,j.i,j.j,j.k,j.n,j.m,j.l,j.y,j.u,j.t,j.v,j.w,j.x,j.z,j.A,j.B,j.C,j.D,j.E,j.F,j.L,j.M,j.P,j.V,j.W,j.X,j.Y,j.Z,j.o,j.U,j.R,j.S,j.T,c.r,c.s,c.t,c.u,c.B,c.x,c.y,c.z,c.A,c.v,c.w,et],[c.b,c.I,c.q,c.l,c.F,c.g,c.D,c.G,c.d,c.f,c.j,c.k,c.m]),e.d(n,"UsersModule",(function(){return kt}));var _t,kt=((_t=function t(){_classCallCheck(this,t)}).\u0275mod=a.Kb({type:_t}),_t.\u0275inj=a.Jb({factory:function(t){return new(t||_t)},imports:[[c.c,i.a,Ct,Ot]]}),_t)}}]);